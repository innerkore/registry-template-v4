{
  "name": "testimonial",
  "type": "registry:ui",
  "description": "TypeScript component (transformed from /components/ui/testimonial.tsx)",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "/src/components/ui/testimonial.tsx",
      "type": "registry:ui",
      "content": "import * as React from \"react\";\nimport { motion, PanInfo } from \"framer-motion\";\nimport Image from \"@/components/Image\";\nimport { cn } from \"@/lib/utils\";\n\nexport type Testimonial = {\n  id: number | string;\n  name: string;\n  avatar: string;\n  description: string;\n};\n\nexport type TestimonialCarouselProps = React.HTMLAttributes<HTMLDivElement> & {\n  testimonials: Testimonial[];\n  showArrows?: boolean;\n  showDots?: boolean;\n  previousLabel?: string;\n  nextLabel?: string;\n};\n\nconst TestimonialCarousel = React.forwardRef<HTMLDivElement, TestimonialCarouselProps>(\n  (\n    {\n      className,\n      testimonials,\n      showArrows = true,\n      showDots = true,\n      previousLabel = \"\u2190\",\n      nextLabel = \"\u2192\",\n      ...props\n    },\n    ref,\n  ) => {\n    const [currentIndex, setCurrentIndex] = React.useState<number>(0);\n    const [exitX, setExitX] = React.useState<number>(0);\n    const timeoutRef = React.useRef<number>();\n\n    const totalTestimonials = testimonials.length;\n\n    const handleDragEnd = React.useCallback(\n      (_event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n        if (Math.abs(info.offset.x) > 100 && totalTestimonials > 0) {\n          setExitX(info.offset.x);\n\n          if (timeoutRef.current) {\n            window.clearTimeout(timeoutRef.current);\n          }\n\n          timeoutRef.current = window.setTimeout(() => {\n            setCurrentIndex((prevIndex) =>\n              totalTestimonials > 0 ? (prevIndex + 1) % totalTestimonials : prevIndex,\n            );\n            setExitX(0);\n          }, 200);\n        }\n      },\n      [totalTestimonials],\n    );\n\n    React.useEffect(() => {\n      return () => {\n        if (timeoutRef.current) {\n          window.clearTimeout(timeoutRef.current);\n        }\n      };\n    }, []);\n\n    if (totalTestimonials === 0) {\n      return null;\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"flex h-72 w-full items-center justify-center\", className)}\n        {...props}\n      >\n        <div className=\"relative h-64 w-80\">\n          {testimonials.map((testimonial, index) => {\n            const isCurrentCard = index === currentIndex;\n            const isNextCard = index === (currentIndex + 1) % totalTestimonials;\n            const isFollowingCard = index === (currentIndex + 2) % totalTestimonials;\n\n            if (!isCurrentCard && !isNextCard && !isFollowingCard) {\n              return null;\n            }\n\n            return (\n              <motion.div\n                key={testimonial.id}\n                className={cn(\n                  \"absolute h-full w-full cursor-grab rounded-2xl bg-card shadow-xl active:cursor-grabbing dark:bg-card dark:shadow-[2px_2px_4px_rgba(0,0,0,0.4),-1px_-1px_3px_rgba(255,255,255,0.1)]\",\n                )}\n                style={{\n                  zIndex: isCurrentCard ? 3 : isNextCard ? 2 : 1,\n                }}\n                drag={isCurrentCard ? \"x\" : false}\n                dragConstraints={{ left: 0, right: 0 }}\n                dragElastic={0.7}\n                onDragEnd={isCurrentCard ? handleDragEnd : undefined}\n                initial={{\n                  scale: 0.95,\n                  opacity: 0,\n                  y: isCurrentCard ? 0 : isNextCard ? 8 : 16,\n                  rotate: isCurrentCard ? 0 : isNextCard ? -2 : -4,\n                }}\n                animate={{\n                  scale: isCurrentCard ? 1 : 0.95,\n                  opacity: isCurrentCard ? 1 : isNextCard ? 0.6 : 0.3,\n                  x: isCurrentCard ? exitX : 0,\n                  y: isCurrentCard ? 0 : isNextCard ? 8 : 16,\n                  rotate: isCurrentCard ? exitX / 20 : isNextCard ? -2 : -4,\n                }}\n                transition={{\n                  type: \"spring\",\n                  stiffness: 300,\n                  damping: 20,\n                }}\n              >\n                {showArrows && isCurrentCard && (\n                  <div className=\"absolute inset-x-0 top-2 flex justify-between px-4\">\n                    <span className=\"cursor-pointer select-none text-2xl text-muted-foreground transition-colors hover:text-primary\">\n                      {previousLabel}\n                    </span>\n                    <span className=\"cursor-pointer select-none text-2xl text-muted-foreground transition-colors hover:text-primary\">\n                      {nextLabel}\n                    </span>\n                  </div>\n                )}\n\n                <div className=\"flex flex-col items-center gap-4 p-6\">\n                  <Image\n                    src={testimonial.avatar}\n                    alt={testimonial.name}\n                    width={64}\n                    height={64}\n                    className=\"h-16 w-16 rounded-full object-cover\"\n                    type=\"profile\"\n                  />\n                  <h3 className=\"text-lg font-semibold text-foreground\">\n                    {testimonial.name}\n                  </h3>\n                  <p className=\"text-center text-sm text-muted-foreground\">\n                    {testimonial.description}\n                  </p>\n                </div>\n              </motion.div>\n            );\n          })}\n          {showDots && (\n            <div className=\"absolute -bottom-8 left-0 right-0 flex justify-center gap-2\">\n              {testimonials.map((testimonial, index) => (\n                <span\n                  key={testimonial.id}\n                  className={cn(\n                    \"h-2 w-2 rounded-full bg-muted transition-colors\",\n                    index === currentIndex && \"bg-primary\",\n                  )}\n                  aria-label={`Testimonial ${index + 1}`}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n);\n\nTestimonialCarousel.displayName = \"TestimonialCarousel\";\n\nexport { TestimonialCarousel };\n"
    }
  ],
  "tailwind": {
    "config": {}
  },
  "meta": {
    "install_url": "s3://registry-marketkore/registry/21st.dev/r/anurag-mishra22/testimonial.json",
    "imported_from": "https://21st.dev/r/anurag-mishra22/testimonial",
    "component_name": "TestimonialCarousel",
    "component_path": "/components/ui/testimonial.tsx",
    "props": "TestimonialCarouselProps",
    "props_path": "/components/ui/testimonial.tsx",
    "original_file": "/components/ui/testimonial.tsx",
    "transformed_at": "2025-12-08T18:13:59.338608",
    "category": "testimonials",
    "tags": [
      "trust-building",
      "social-proof",
      "mixed-media",
      "interactive",
      "responsive-mobile"
    ],
    "variations": []
  }
}