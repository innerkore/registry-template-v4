{
  "name": "newsletter-signup",
  "type": "registry:ui",
  "dependencies": [
    "motion",
    "lucide-react",
    "canvas-confetti"
  ],
  "files": [
    {
      "path": "/components/ui/newsletter-signup.tsx",
      "type": "registry:ui",
      "content": "\"use client\";\r\n \r\nimport React, { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"motion/react\";\r\nimport { Send } from \"lucide-react\";\r\nimport confetti from \"canvas-confetti\";\r\n \r\nexport interface NewsletterSignupProps {\r\n  onSubmit: (email: string) => Promise<void>;\r\n  className?: string;\r\n}\r\n \r\nexport const NewsletterSignup: React.FC<NewsletterSignupProps> = ({\r\n  onSubmit,\r\n  className = \"\",\r\n}) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n \r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n \r\n    if (!email) {\r\n      setError(\"Email is required\");\r\n      return;\r\n    }\r\n \r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return;\r\n    }\r\n \r\n    setIsSubmitting(true);\r\n \r\n    try {\r\n      await onSubmit(email);\r\n      setIsSubmitted(true);\r\n      confetti({\r\n        particleCount: 100,\r\n        spread: 70,\r\n        origin: { y: 0.6 },\r\n      });\r\n    } catch (err) {\r\n      setError(\"An error occurred. Please try again.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n \r\n  return (\r\n    <div\r\n      className={`bg-secondary/50 border border-primary/10 rounded-lg p-6 ${className}`}\r\n    >\r\n      <AnimatePresence mode=\"wait\">\r\n        {!isSubmitted ? (\r\n          <motion.form\r\n            key=\"form\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n            onSubmit={handleSubmit}\r\n            className=\"flex flex-col gap-4\"\r\n          >\r\n            <div className=\"flex items-start justify-center gap-1 flex-col overflow-y-hidden\">\r\n              <motion.h2\r\n                className=\"text-2xl font-bold text-foreground\"\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n              >\r\n                Subscribe to our newsletter\r\n              </motion.h2>\r\n              <motion.p\r\n                className=\"text-muted-foreground text-sm\"\r\n                initial={{ opacity: 0, y: 10, filter: \"blur(3px)\" }}\r\n                animate={{ opacity: 1, y: 0, filter: \"blur(0px)\" }}\r\n                transition={{ delay: 0.4 }}\r\n              >\r\n                Stay up to date with our latest news and updates.\r\n              </motion.p>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <motion.label\r\n                initial={{ opacity: 0, filter: \"blur(3px)\" }}\r\n                animate={{ opacity: 1, filter: \"blur(0px)\" }}\r\n                transition={{ delay: 0.6 }}\r\n                className=\"font-medium text-sm\"\r\n                htmlFor=\"email\"\r\n              >\r\n                Email address\r\n              </motion.label>\r\n              <motion.div\r\n                className=\"flex gap-2\"\r\n                initial={{ opacity: 0, filter: \"blur(3px)\" }}\r\n                animate={{ opacity: 1, filter: \"blur(0px)\" }}\r\n                transition={{ delay: 0.7 }}\r\n              >\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  placeholder=\"you@example.com\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border rounded-md focus-visible:ring-0 focus-within:ring-0 focus:outline-white/10 \"\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"relative overflow-hidden text-sm flex items-center justify-center gap-2 px-4 py-2 bg-white border-black font-medium\"\r\n                >\r\n                  <motion.div\r\n                    key=\"default\"\r\n                    initial={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"flex items-center px-4\"\r\n                  >\r\n                    <Send className=\"h-4 w-4\" />\r\n                    <span className=\"ml-2\">Subscribe</span>\r\n                  </motion.div>\r\n                </button>\r\n              </motion.div>\r\n            </div>\r\n            <AnimatePresence>\r\n              {error && (\r\n                <motion.p\r\n                  className=\"text-red-500 text-sm\"\r\n                  initial={{ opacity: 0, y: 5 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -5 }}\r\n                >\r\n                  {error}\r\n                </motion.p>\r\n              )}\r\n            </AnimatePresence>\r\n          </motion.form>\r\n        ) : (\r\n          <motion.div\r\n            key=\"success\"\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"text-center\"\r\n          >\r\n            <h2 className=\"text-2xl font-bold text-foreground mb-2\">\r\n              Thank you for subscribing!\r\n            </h2>\r\n            <p className=\"text-muted-foreground\">\r\n              We've sent a confirmation email to your inbox.\r\n            </p>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};"
    }
  ],
  "tailwind": {
    "config": {}
  },
  "meta": {
    "imported_from": "https://21st.dev/r/preetsuthar17/newsletter-signup"
  }
}